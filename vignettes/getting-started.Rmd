---
title: "Getting started with rsurveyjs"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting started with rsurveyjs}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
library(rsurveyjs)
```

## Basic usage

To render a survey, pass a JSON-compatible list to `surveyjs()`:

```{r basic}
surveyjs(
  schema = list(
    title = "Feedback",
    questions = list(
      list(type = "rating", name = "satisfaction", title = "How satisfied are you?"),
      list(type = "text", name = "comment", title = "Any comments?")
    )
  )
)
```

## Applying a theme

Use built-in SurveyJS themes like `"modern"` or `"defaultV2"`:

```{r themed}
surveyjs(
  schema = list(
    title = "Themed Survey",
    questions = list(
      list(type = "checkbox", name = "languages", title = "Which languages do you use?",
           choices = c("R", "Python", "Julia"))
    )
  ),
  theme = "modern"
)
```

## Customizing styles

You can override CSS variables using `theme_vars`:

```{r custom-theme}
surveyjs(
  schema = list(
    title = "Custom Theme",
    questions = list(
      list(type = "text", name = "name", title = "Your name")
    )
  ),
  theme = "modern",
  theme_vars = list("--sjs-primary-backcolor" = "#0072B2")
)
```

## Localization

Use `locale` to switch languages (e.g., `"de"` for German):

```{r localized}
surveyjs(
  schema = list(
    title = "Ihre Meinung",
    questions = list(
      list(type = "rating", name = "zufriedenheit", title = "Wie zufrieden sind Sie?")
    )
  ),
  locale = "de"
)
```

## Live data binding in Shiny

In Shiny apps, use `live = TRUE` to receive updates continuously:

```r
ui <- fluidPage(
  surveyjsOutput("mysurvey"),
  verbatimTextOutput("out")
)

server <- function(input, output, session) {
  output$mysurvey <- renderSurveyjs({
    surveyjs(
      schema = list(
        title = "Live feedback",
        questions = list(
          list(type = "text", name = "comment", title = "Your comment")
        )
      ),
      live = TRUE
    )
  })

  output$out <- renderPrint({
    input$mysurvey_data_live
  })
}
```

Run this with `shinyApp(ui, server)`.
