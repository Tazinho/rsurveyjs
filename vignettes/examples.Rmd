---
title: "Examples"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Examples}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>", 
  fig.width = 8
)

library(rsurveyjs)
original_surveyjs <- get("surveyjs", envir = asNamespace("rsurveyjs"))

surveyjs <- function(...) {
  original_surveyjs(..., width = "100%", height = "100%")
}
```

## Test Section

Lorem Ipum ..

## Basic usage (JSON-style)

To render a survey, pass a JSON-compatible list to `surveyjs()`:

```{r}
surveyjs(schema = list(
  title = "JSON-based Example",
  questions = list(
    list(type = "text", name = "name", title = "Your name?")
  )
))
```

## Multiple pages

```{r}
surveyjs(schema = list(
  title = "Multi-Page Example",
  pages = list(
    list(name = "page1", elements = list(
      list(type = "text", name = "first", title = "First name"),
      list(type = "text", name = "last", title = "Last name")
    )),
    list(name = "page2", elements = list(
      list(type = "rating", name = "satisfaction", title = "Satisfaction?")
    ))
  )
))
```

## Different Question Types

**surveyjs** provides a variety of [fully documented](https://surveyjs.io/form-library/documentation/question) question types. For most useful question-type examples in **rsurveyjs** just head to [question type examples](articles/question-types.html).

```{r}
  surveyjs(schema = list(
    title = "Question Types Example",
    questions = list(
      list(type = "text", name = "name", title = "Your name?"),
      list(type = "rating", name = "satisfaction", title = "How was it?"),
      list(
        type = "dropdown",
        name = "country",
        title = "Select country",
        choices = list("Germany", "France", "USA" )
      )
    )
  ))
```


## Themes

Themes are well documented under [Themes & Styles](https://surveyjs.io/form-library/documentation/manage-default-themes-and-styles) from the original surveyjs documentation. General speaking every theme comes with a light/dark version and in a panel/panelless variant. For convenience all available themes are referenced under `surveyjs_themes()` within `rsurveyjs`.

```{r}
surveyjs(
  schema = list(
    title = "Themed Survey",
    questions = list(
      list(type = "text", name = "name", title = "Name?"),
      list(type = "rating", name = "rating", title = "Rate us")
    )
  ),
  theme = "ThreeDimensionalLightPanelless"  # try: "contrast-dark", "flat-light", etc.
)
```

## Theme Variables

You can pass css variables to style the available themes via the `theme_vars` argument.

```{r}
surveyjs(
  schema = list(
    title = "Custom Theme Colors",
    questions = list(
      list(type = "rating", name = "rating", title = "How was it?")
    )
  ),
  theme = "DefaultLightPanelless",
  theme_vars = list(
    "--sjs-primary-backcolor" = "rgba(0, 128, 255, 1)",        # Strong blue
    "--sjs-primary-forecolor" = "#ffffff",                     # White text
    "--sjs-border-default" = "rgba(0, 0, 0, 0.1)",              # Soft border
    "--sjs-corner-radius" = "12px",                            # Rounded corners
    "--sjs-shadow-medium" = "0 4px 12px rgba(0, 0, 0, 0.3)"     # Bigger shadow
  )
)
```

## Language

Technical key-words like "Complete" get properly translated via the `locale` argument.

```{r}
surveyjs(
  schema = list(
    title = "Zufriedenheit",
    pages = list(
      list(name = "p1", elements = list(
        list(type = "text", name = "name", title = "Ihr Name?"),
        list(type = "rating", name = "satisfaction", title = "Zufrieden?")
      ))
    )
  ),
  locale = "fr"  # try "fr", "en", "es"
)
```

## Data on load

Provide initial/default values when rendering the form or load previously saved responses for editing/updating.

```{r}
surveyjs(
  schema = list(
    title = "Read-Only Preview",
    questions = list(
      list(type = "text", name = "name", title = "Your name?"),
      list(type = "rating", name = "rating", title = "Rating?")
    )
  ),
  data = list(name = "Taz", rating = 5)
)
```

## Read-only modus

In case you just want to display the form input, but make it non-edible just provide `readOnly = TRUE`.

```{r}
surveyjs(
  schema = list(
    title = "Read-Only Preview",
    questions = list(
      list(type = "text", name = "name", title = "Your name?"),
      list(type = "rating", name = "rating", title = "Rating?")
    )
  ),
  data = list(name = "Taz", rating = 5),
  readOnly = TRUE
)
```

## Quizzes

You can easily create forms for quizzes.

```{r}
quiz_schema <- list(
  title = "Quick Quiz",
  showProgressBar = "top",
  showCorrectAnswers = "true",
  completedHtml = "<h4>You scored {correctAnswers} out of {questionCount}.</h4>",
  pages = list(
    list(elements = list(
      list(
        type = "radiogroup",
        name = "capital",
        title = "What is the capital of France?",
        choices = c("Berlin", "Madrid", "Paris", "Rome"),
        correctAnswer = "Paris"
      ),
      list(
        type = "radiogroup",
        name = "language",
        title = "Which language is mostly spoken in Brazil?",
        choices = c("Spanish", "Portuguese", "French"),
        correctAnswer = "Portuguese"
      )
    ))
  )
)

surveyjs(quiz_schema)
```
